import json
import re

# 假設你的 JS 文件內容存儲在一個字串變數 `js_content` 中
js_content = """
function initialization()
{
  Sentence[0] = "葡萄美酒夜光杯";
  Sentence[1] = "欲飲琵琶馬上催";
  Sentence[2] = "醉臥沙場君莫笑";
  Sentence[3] = "古來征戰幾人回";
  Sentence[4] = "離離原上草";
  Sentence[5] = "一歲一枯榮";
  Sentence[6] = "野火燒不盡";
  Sentence[7] = "春風吹又生";
  Sentence[8] = "遠芳侵古道";
  Sentence[9] = "晴翠接荒城";
  Sentence[10] = "又送王孫去";
  Sentence[11] = "萋萋滿別情";
  Sentence[12] = "誰道群生性命微";
  Sentence[13] = "一般骨肉一般皮";
  Sentence[14] = "勸君莫打枝頭鳥";
  Sentence[15] = "子在巢中望母歸";
  Sentence[16] = "江南好";
  Sentence[17] = "風景舊曾諳";
  Sentence[18] = "日出江花紅勝火";
  Sentence[19] = "春來江水綠如藍";
  Sentence[20] = "能不憶江南";
  Sentence[21] = "海上生明月";
  Sentence[22] = "天涯共此時";
  Sentence[23] = "情人怨遙夜";
  Sentence[24] = "竟夕起相思";
  Sentence[25] = "滅燭憐光滿";
  Sentence[26] = "披衣覺露滋";
  Sentence[27] = "不堪盈手贈";
  Sentence[28] = "還寢夢佳期";
  Sentence[29] = "少小離家老大回";
  Sentence[30] = "鄉音無改鬢毛衰";
  Sentence[31] = "兒童相見不相識";
  Sentence[32] = "笑問客從何處來";
  Sentence[33] = "碧玉妝成一樹高";
  Sentence[34] = "萬條垂下綠絲絛";
  Sentence[35] = "不知細葉誰裁出";
  Sentence[36] = "二月春風似剪刀";
  Sentence[37] = "白日依山盡";
  Sentence[38] = "黃河入海流";
  Sentence[39] = "欲窮千里目";
  Sentence[40] = "更上一層樓";
  Sentence[41] = "春眠不覺曉";
  Sentence[42] = "處處聞啼鳥";
  Sentence[43] = "夜來風雨聲";
  Sentence[44] = "花落知多少";
  Sentence[45] = "移舟泊煙渚";
  Sentence[46] = "日暮客愁新";
  Sentence[47] = "野曠天低樹";
  Sentence[48] = "江清月近人";
  Sentence[49] = "秦時明月漢時關";
  Sentence[50] = "萬里長征人未還";
  Sentence[51] = "但使龍城飛將在";
  Sentence[52] = "不教胡馬度陰山";
  Sentence[53] = "琵琶起舞換新聲";
  Sentence[54] = "總是關山離別情";
  Sentence[55] = "撩亂邊愁彈不盡";
  Sentence[56] = "高高秋月照長城";
  Sentence[57] = "青海長雲暗雪山";
  Sentence[58] = "孤城遙望玉門關";
  Sentence[59] = "黃沙百戰穿金甲";
  Sentence[60] = "不破樓蘭終不還";
  Sentence[61] = "寒雨連江夜入吳";
  Sentence[62] = "平明送客楚山孤";
  Sentence[63] = "洛陽親友如相問";
  Sentence[64] = "一片冰心在玉壺";
  Sentence[65] = "鵝鵝鵝";
  Sentence[66] = "曲項向天歌";
  Sentence[67] = "白毛浮綠水";
  Sentence[68] = "紅掌撥清波";
  Sentence[69] = "月黑雁飛高";
  Sentence[70] = "單于夜遁逃";
  Sentence[71] = "欲將輕騎逐";
  Sentence[72] = "大雪滿弓刀";
  Sentence[73] = "向晚意不適";
  Sentence[74] = "驅車登古原";
  Sentence[75] = "夕陽無限好";
  Sentence[76] = "只是近黃昏";
  Sentence[77] = "獨在異鄉為異客";
  Sentence[78] = "每逢佳節倍思親";
  Sentence[79] = "遙知兄弟登高處";
  Sentence[80] = "遍插茱萸少一人";
  Sentence[81] = "渭城朝雨浥輕塵";
  Sentence[82] = "客舍青青柳色新";
  Sentence[83] = "勸君更盡一杯酒";
  Sentence[84] = "西出陽關無故人";
  Sentence[85] = "空山不見人";
  Sentence[86] = "但聞人語響";
  Sentence[87] = "返景入深林";
  Sentence[88] = "復照青苔上";
  Sentence[89] = "獨坐幽篁裡";
  Sentence[90] = "彈琴復長嘯";
  Sentence[91] = "深林人不知";
  Sentence[92] = "明月來相照";
  Sentence[93] = "岐王宅裡尋常見";
  Sentence[94] = "崔九堂前幾度聞";
  Sentence[95] = "正是江南好風景";
  Sentence[96] = "落花時節又逢君";
  Sentence[97] = "黃四娘家花滿蹊";
  Sentence[98] = "千朵萬朵壓枝低";
  Sentence[99] = "留連戲蝶時時舞";
  Sentence[100] = "自在嬌鶯恰恰啼";
  Sentence[101] = "好雨知時節";
  Sentence[102] = "當春乃發生";
  Sentence[103] = "隨風潛入夜";
  Sentence[104] = "潤物細無聲";
  Sentence[105] = "野徑雲俱黑";
  Sentence[106] = "江船火獨明";
  Sentence[107] = "曉看紅濕處";
  Sentence[108] = "花重錦官城";
  Sentence[109] = "兩個黃鸝鳴翠柳";
  Sentence[110] = "一行白鷺上青天";
  Sentence[111] = "窗含西嶺千秋雪";
  Sentence[112] = "門泊東吳萬里船";
  Sentence[113] = "遲日江山麗";
  Sentence[114] = "春風花草香";
  Sentence[115] = "泥融飛燕子";
  Sentence[116] = "沙暖睡鴛鴦";
  Sentence[117] = "錦城絲管日紛紛";
  Sentence[118] = "半入江風半入雲";
  Sentence[119] = "此曲只應天上有";
  Sentence[120] = "人間難得幾回聞";
  Sentence[121] = "劍外忽傳收薊北";
  Sentence[122] = "初聞涕淚滿衣裳";
  Sentence[123] = "卻看妻子愁何在";
  Sentence[124] = "漫卷詩書喜欲狂";
  Sentence[125] = "白日放歌須縱酒";
  Sentence[126] = "青春作伴好還鄉";
  Sentence[127] = "即從巴峽穿巫峽";
  Sentence[128] = "便下襄陽向洛陽";
  Sentence[129] = "月落烏啼霜滿天";
  Sentence[130] = "江楓漁火對愁眠";
  Sentence[131] = "姑蘇城外寒山寺";
  Sentence[132] = "夜半鐘聲到客船";
  Sentence[133] = "春城無處不飛花";
  Sentence[134] = "寒食東風御柳斜";
  Sentence[135] = "日暮漢宮傳蠟燭";
  Sentence[136] = "輕煙散入五侯家";
  Sentence[137] = "獨憐幽草澗邊生";
  Sentence[138] = "上有黃鸝深樹鳴";
  Sentence[139] = "春潮帶雨晚來急";
  Sentence[140] = "野渡無人舟自橫";
  Sentence[141] = "慈母手中線";
  Sentence[142] = "遊子身上衣";
  Sentence[143] = "臨行密密縫";
  Sentence[144] = "意恐遲遲歸";
  Sentence[145] = "誰言寸草心";
  Sentence[146] = "報得三春暉";
  Sentence[147] = "銀燭秋光冷畫屏";
  Sentence[148] = "輕羅小扇撲流螢";
  Sentence[149] = "天階夜色涼如水";
  Sentence[150] = "臥看牽牛織女星";
  Sentence[151] = "清明時節雨紛紛";
  Sentence[152] = "路上行人欲斷魂";
  Sentence[153] = "借問酒家何處有";
  Sentence[154] = "牧童遙指杏花村";
  Sentence[155] = "千里鶯啼綠映紅";
  Sentence[156] = "水村山郭酒旗風";
  Sentence[157] = "南朝四百八十寺";
  Sentence[158] = "多少樓台煙雨中";
  Sentence[159] = "遠上寒山石徑斜";
  Sentence[160] = "白雲生處有人家";
  Sentence[161] = "停車坐愛楓林晚";
  Sentence[162] = "霜葉紅於二月花";
  Sentence[163] = "千山鳥飛絕";
  Sentence[164] = "萬徑人蹤滅";
  Sentence[165] = "孤舟簑笠翁";
  Sentence[166] = "獨釣寒江雪";
  Sentence[167] = "床前明月光";
  Sentence[168] = "疑是地上霜";
  Sentence[169] = "舉頭望明月";
  Sentence[170] = "低頭思故鄉";
  Sentence[171] = "眾鳥高飛盡";
  Sentence[172] = "孤雲獨去閒";
  Sentence[173] = "相看兩不厭";
  Sentence[174] = "只有敬亭山";
  Sentence[175] = "日照香爐生紫煙";
  Sentence[176] = "遙看瀑布掛前川";
  Sentence[177] = "飛流直下三千尺";
  Sentence[178] = "疑是銀河落九天";
  Sentence[179] = "李白乘舟將欲行";
  Sentence[180] = "忽聞岸上踏歌聲";
  Sentence[181] = "桃花潭水深千尺";
  Sentence[182] = "不及汪倫送我情";
  Sentence[183] = "白髮三千丈";
  Sentence[184] = "緣愁似箇長";
  Sentence[185] = "不知明鏡裡";
  Sentence[186] = "何處得秋霜";
  Sentence[187] = "天門中斷楚江開";
  Sentence[188] = "碧水東流至此回";
  Sentence[189] = "兩岸青山相對出";
  Sentence[190] = "孤帆一片日邊來";
  Sentence[191] = "小時不識月";
  Sentence[192] = "呼作白玉盤";
  Sentence[193] = "又疑瑤台鏡";
  Sentence[194] = "飛在青雲端";
  Sentence[195] = "仙人垂兩足";
  Sentence[196] = "桂樹何團團";
  Sentence[197] = "白兔搗藥成";
  Sentence[198] = "問言與誰餐";
  Sentence[199] = "朝辭白帝彩雲間";
  Sentence[200] = "千里江陵一日還";
  Sentence[201] = "兩岸猿聲啼不住";
  Sentence[202] = "輕舟已過萬重山";
  Sentence[203] = "故人西辭黃鶴樓";
  Sentence[204] = "煙花三月下揚州";
  Sentence[205] = "孤帆遠影碧空盡";
  Sentence[206] = "惟見長江天際流";
  Sentence[207] = "日暮蒼山遠";
  Sentence[208] = "天寒白屋貧";
  Sentence[209] = "柴門聞犬吠";
  Sentence[210] = "風雪夜歸人";
  Sentence[211] = "千里黃雲白日曛";
  Sentence[212] = "北風吹雁雪紛紛";
  Sentence[213] = "莫愁前路無知己";
  Sentence[214] = "天下誰人不識君";
  Sentence[215] = "西塞山前白鷺飛";
  Sentence[216] = "桃花流水鱖魚肥";
  Sentence[217] = "青箬笠";
  Sentence[218] = "綠蓑衣";
  Sentence[219] = "斜風細雨不須歸";
  Sentence[220] = "朱雀橋邊野草花";
  Sentence[221] = "烏衣巷口夕陽斜";
  Sentence[222] = "舊時王謝堂前燕";
  Sentence[223] = "飛入尋常百姓家";
  Sentence[224] = "湖光秋月兩相和";
  Sentence[225] = "潭面無風鏡未磨";
  Sentence[226] = "遙望洞庭山水翠";
  Sentence[227] = "白銀盤裡一青螺";
  Sentence[228] = "九曲黃河萬里沙";
  Sentence[229] = "浪淘風簸自天涯";
  Sentence[230] = "如今直上銀河去";
  Sentence[231] = "同到牽牛織女家";
  Sentence[232] = "楊柳青青江水平";
  Sentence[233] = "聞郎江上唱歌聲";
  Sentence[234] = "東邊日出西邊雨";
  Sentence[235] = "道是無晴卻有晴";
  Sentence[236] = "春種一粒粟";
  Sentence[237] = "秋收萬顆子";
  Sentence[238] = "四海無閒田";
  Sentence[239] = "農夫猶餓死";
  Sentence[240] = "鋤禾日當午";
  Sentence[241] = "汗滴禾下土";
  Sentence[242] = "誰知盤中飧";
  Sentence[243] = "粒粒皆辛苦";
  Sentence[244] = "晨起動征鐸";
  Sentence[245] = "客行悲故鄉";
  Sentence[246] = "雞聲茅店月";
  Sentence[247] = "人跡板橋霜";
  Sentence[248] = "槲葉落山路";
  Sentence[249] = "枳花明驛牆";
  Sentence[250] = "因思杜陵夢";
  Sentence[251] = "鳧雁滿回塘";

  Poem[0][0] = "王翰《涼州詞》";
  Poem[0][1] = "0";
  Poem[0][2] = "3";
  Poem[1][0] = "白居易《賦得古原草送別》";
  Poem[1][1] = "4";
  Poem[1][2] = "11";
  Poem[2][0] = "白居易《鳥》";
  Poem[2][1] = "12";
  Poem[2][2] = "15";
  Poem[3][0] = "白居易《憶江南》";
  Poem[3][1] = "16";
  Poem[3][2] = "20";
  Poem[4][0] = "張九齡《望月懷遠》";
  Poem[4][1] = "21";
  Poem[4][2] = "28";
  Poem[5][0] = "賀知章《回鄉偶書》";
  Poem[5][1] = "29";
  Poem[5][2] = "32";
  Poem[6][0] = "賀知章《詠柳》";
  Poem[6][1] = "33";
  Poem[6][2] = "36";
  Poem[7][0] = "王之渙《登鸛鵲樓》";
  Poem[7][1] = "37";
  Poem[7][2] = "40";
  Poem[8][0] = "孟浩然《春曉》";
  Poem[8][1] = "41";
  Poem[8][2] = "44";
  Poem[9][0] = "孟浩然《宿建德江》";
  Poem[9][1] = "45";
  Poem[9][2] = "48";
  Poem[10][0] = "王昌齡《出塞》";
  Poem[10][1] = "49";
  Poem[10][2] = "52";
  Poem[11][0] = "王昌齡《從軍行．其二》";
  Poem[11][1] = "53";
  Poem[11][2] = "56";
  Poem[12][0] = "王昌齡《從軍行．其四》";
  Poem[12][1] = "57";
  Poem[12][2] = "60";
  Poem[13][0] = "王昌齡《芙蓉樓送辛漸》";
  Poem[13][1] = "61";
  Poem[13][2] = "64";
  Poem[14][0] = "駱賓王《詠鵝》";
  Poem[14][1] = "65";
  Poem[14][2] = "68";
  Poem[15][0] = "盧綸《塞下曲》";
  Poem[15][1] = "69";
  Poem[15][2] = "72";
  Poem[16][0] = "李商隱《登樂遊原》";
  Poem[16][1] = "73";
  Poem[16][2] = "76";
  Poem[17][0] = "王維《九月九日憶山東兄弟》";
  Poem[17][1] = "77";
  Poem[17][2] = "80";
  Poem[18][0] = "王維《送元二使安西（渭城曲）》";
  Poem[18][1] = "81";
  Poem[18][2] = "84";
  Poem[19][0] = "王維《鹿柴》";
  Poem[19][1] = "85";
  Poem[19][2] = "88";
  Poem[20][0] = "王維《竹里館》";
  Poem[20][1] = "89";
  Poem[20][2] = "92";
  Poem[21][0] = "杜甫《江南逢李龜年》";
  Poem[21][1] = "93";
  Poem[21][2] = "96";
  Poem[22][0] = "杜甫《江畔獨步尋花》";
  Poem[22][1] = "97";
  Poem[22][2] = "100";
  Poem[23][0] = "杜甫《春夜喜雨》";
  Poem[23][1] = "101";
  Poem[23][2] = "108";
  Poem[24][0] = "杜甫《絕句》";
  Poem[24][1] = "109";
  Poem[24][2] = "112";
  Poem[25][0] = "杜甫《絕句》";
  Poem[25][1] = "113";
  Poem[25][2] = "116";
  Poem[26][0] = "杜甫《贈花卿》";
  Poem[26][1] = "117";
  Poem[26][2] = "120";
  Poem[27][0] = "杜甫《聞官軍收河南河北》";
  Poem[27][1] = "121";
  Poem[27][2] = "128";
  Poem[28][0] = "張繼《楓橋夜泊》";
  Poem[28][1] = "129";
  Poem[28][2] = "132";
  Poem[29][0] = "韓翃《寒食》";
  Poem[29][1] = "133";
  Poem[29][2] = "136";
  Poem[30][0] = "韋應物《滁州西澗》";
  Poem[30][1] = "137";
  Poem[30][2] = "140";
  Poem[31][0] = "孟郊《遊子吟》";
  Poem[31][1] = "141";
  Poem[31][2] = "146";
  Poem[32][0] = "杜牧《秋夕》";
  Poem[32][1] = "147";
  Poem[32][2] = "150";
  Poem[33][0] = "杜牧《清明》";
  Poem[33][1] = "151";
  Poem[33][2] = "154";
  Poem[34][0] = "杜牧《江南春》";
  Poem[34][1] = "155";
  Poem[34][2] = "158";
  Poem[35][0] = "杜牧《山行》";
  Poem[35][1] = "159";
  Poem[35][2] = "162";
  Poem[36][0] = "柳宗元《江雪》";
  Poem[36][1] = "163";
  Poem[36][2] = "166";
  Poem[37][0] = "李白《靜夜思》";
  Poem[37][1] = "167";
  Poem[37][2] = "170";
  Poem[38][0] = "李白《獨坐敬亭山》";
  Poem[38][1] = "171";
  Poem[38][2] = "174";
  Poem[39][0] = "李白《望廬山瀑布》";
  Poem[39][1] = "175";
  Poem[39][2] = "178";
  Poem[40][0] = "李白《贈汪倫》";
  Poem[40][1] = "179";
  Poem[40][2] = "182";
  Poem[41][0] = "李白《秋浦歌》";
  Poem[41][1] = "183";
  Poem[41][2] = "186";
  Poem[42][0] = "李白《望天門山》";
  Poem[42][1] = "187";
  Poem[42][2] = "190";
  Poem[43][0] = "李白《古朗月行》";
  Poem[43][1] = "191";
  Poem[43][2] = "198";
  Poem[44][0] = "李白《下江陵》";
  Poem[44][1] = "199";
  Poem[44][2] = "202";
  Poem[45][0] = "李白《黃鶴樓送孟浩然之廣陵》";
  Poem[45][1] = "203";
  Poem[45][2] = "206";
  Poem[46][0] = "劉長卿《逢雪宿芙蓉山主人》";
  Poem[46][1] = "207";
  Poem[46][2] = "210";
  Poem[47][0] = "高適《別董大》";
  Poem[47][1] = "211";
  Poem[47][2] = "214";
  Poem[48][0] = "張志和《漁歌子》";
  Poem[48][1] = "215";
  Poem[48][2] = "219";
  Poem[49][0] = "劉禹錫《烏衣巷》";
  Poem[49][1] = "220";
  Poem[49][2] = "223";
  Poem[50][0] = "劉禹錫《望洞庭》";
  Poem[50][1] = "224";
  Poem[50][2] = "227";
  Poem[51][0] = "劉禹錫《浪淘沙》";
  Poem[51][1] = "228";
  Poem[51][2] = "231";
  Poem[52][0] = "劉禹錫《竹枝詞》";
  Poem[52][1] = "232";
  Poem[52][2] = "235";
  Poem[53][0] = "李紳《憫農．其一》";
  Poem[53][1] = "236";
  Poem[53][2] = "239";
  Poem[54][0] = "李紳《憫農．其二》";
  Poem[54][1] = "240";
  Poem[54][2] = "243";
  Poem[55][0] = "溫庭筠《商山早行》";
  Poem[55][1] = "244";
  Poem[55][2] = "251";
}
"""

# 提取所有句子
sentences = re.findall(r'Sentence\[\d+\] = "(.*?)";', js_content)

# 提取所有詩的信息
poems_info = re.findall(r'Poem\[\d+\]\[0\] = "(.*?)";\s+Poem\[\d+\]\[1\] = "(.*?)";\s+Poem\[\d+\]\[2\] = "(.*?)";', js_content)

# 構建 JSON 結構
poems = []
for poem in poems_info:
    title_author = poem[0].split('《')
    author = title_author[0]
    title = title_author[1].split('》')[0]
    start_idx = int(poem[1])
    end_idx = int(poem[2])
    content = sentences[start_idx:end_idx + 1]

    poems.append({
        "title": title,
        "author": author,
        "content": content
    })

# 將結果寫入json檔案
with open('poems.json', 'w', encoding='utf-8') as json_file:
    json.dump(poems, json_file, ensure_ascii=False, indent=2)

print("宋詩已成功整理並保存到poems.json文件中")
